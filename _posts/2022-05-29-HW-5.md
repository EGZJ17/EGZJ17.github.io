---
layout: post
title: "A Simple Message Bank"
---

*In this blog post, I will create a simple webapp using Flask, a python web framework.*

This app we are going to build is a simple message bank. It will do two things:

1. Allow the user to submit messages to the bank.
2. Allow the user to view a sample of the messages currently stored in the bank.


# §1. Setup Up
## §1.1 Setting up the Repository

**This code for our app must be hosted in a GitHub repository.** Let's begin by creating such a repository. Commit and push each time we successfully add a new piece of functionality or resolve a bug.

Here's a link to my projects repository:
```
https://github.com/EGZJ17/Message-Bank-Flask.git
```

Let's look inside the repository. In order for this webapp to work, we need to create an `app.py` in the directory. Then, let's create a *templates* folder to store all `html` files for the different pages on our webapp. Our `html` files include `base.html`, `main.html`, `submit.html` and `view.html` to store in the *templates* folder. There is also a `style.css` file in a separate *static* folder. 

## §1.2 Importing the necessary packages 
First of all, we need to import all the packages that are going to be needed into our `app.py` file:

```python
from flask import Flask, g, render_template, request
import numpy as np
import sqlite3
```

## §1.3 Setting up the templates
Note the the templates code is a little different than regular python code.  
We can start buidling the website with a `base.html` where we can put the navigation links to the other functional pages. The source code of `base.html` is shown below:

```python
<!doctype html>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<title>{% block title %}{% endblock %} A Simple Message Bank</title>
<nav>
  <h1>A Simple Message Bank</h1>
  <!-- <b>Navigation:</b> -->
  <ul>
    <li><a href="{{ url_for('submit') }}">Submit a message</a></li>
    <li><a href="{{ url_for('view') }}">View messages</a></li>
  </ul>
</nav>
<section class="content">
  <header>
    {% block header %}{% endblock %}
  </header>
  {% block content %}{% endblock %}
</section>
```

Next, let's build the `main.html` that will serve the purpose of our homepage. The source code of `main.html` is shown below:

```python
{% extends 'base.html' %}

{% block title %}Main page{% endblock %}

{% block content %}
<p>Hello! </p>
  <p>On this webapp, you are able to submit a message to the message bank :)</p> 
  <p>Then, you can view the messages that have been submitted !</p>
  <p>Please click "Submit a message" tab to submit your message. Thanks! </p>
<p> </p>
{% endblock %}
```
Note that `main.html` has the code `{% extends 'base.html' %}` at the top. This allows the main page to have the navigation features by extending or adding onto the `base.html` template. We will do this for every template. 

Note: I will explain the structure of the `submit.html` and `view.html` in the next sections.


# §2. Enable Submissions

